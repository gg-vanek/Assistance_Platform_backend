import datetime
from rest_framework import permissions, status
from rest_framework.decorators import api_view, permission_classes
from rest_framework.response import Response

from tasks.models import TaskTag, TaskSubject, Task
from users.models import User

import random

russian_words = ['абажур', 'абордаж', 'абстракционист', 'авантюризм', 'авиамоделизм', 'автобаза', 'автодром',
                 'автоматизирование', 'автопоезд', 'автостроение', 'агарянка', 'агреман', 'адамсит',
                 'администрирование',
                 'ажурность', 'аил', 'акваланг', 'аккомпанирование', 'аксамит', 'актирование', 'алгебра', 'аллерголог',
                 'алчущая', 'альтиметр', 'амбулатория', 'амперметр', 'анапест', 'англомания', 'анилин', 'анонс',
                 'антиквариат',
                 'антисемитка', 'антономазия', 'антуриум', 'аполитичность', 'апрель', 'араукария', 'арендование',
                 'аркатура',
                 'артист', 'археолог', 'аршин', 'ассигнация', 'астра', 'асфальтирование', 'атропин', 'афиша', 'аэробус',
                 'бабуша', 'бадминтонист', 'бактерионоситель', 'балетомания', 'бальнеолог', 'банкомёт', 'барбарис',
                 'барометр',
                 'бархатность', 'басурманка', 'баул', 'беглость', 'безвестная', 'бездетность', 'беззвучие',
                 'безобразие',
                 'безрукавка', 'бейка', 'беллетристика', 'бельведер', 'бензол', 'бересклет', 'бесконфликтность',
                 'беспорядочность', 'бессвязность', 'бессрочность', 'бесчеловечность', 'бешмет', 'бизнесмен',
                 'биогеоценоз',
                 'биофизик', 'битьё', 'благополучие', 'бластула', 'блокада', 'бобр', 'богомолье', 'бойлерная',
                 'болотовед',
                 'бондарня', 'бортмеханик', 'ботдек', 'бравость', 'брассистка', 'брейд-вымпел', 'британец',
                 'бронестекло',
                 'брус', 'бубенец', 'буй', 'буксир', 'бундестаг', 'бурлак', 'буссоль', 'бухарник', 'бытовизм',
                 'вавилонянин',
                 'вазопись', 'валерьяна', 'валюта', 'варение', 'ватерпас', 'ввивание', 'вдохновение', 'векселедатель',
                 'велодром', 'венок', 'вервь', 'вероотступничество', 'верфь', 'весовщик', 'ветровал', 'вещмешок',
                 'взаимоподдержка', 'взвизгивание', 'взмахивание', 'взяткодательство', 'вивианит', 'визажист', 'вина',
                 'виночерпий', 'висельник', 'витрина', 'вклинение', 'владычица', 'вмешательство', 'водворение',
                 'водонагреватель', 'водоснабжение', 'военнопленная', 'возвышение', 'воздухопровод', 'возрождение',
                 'волжанка',
                 'волчанка', 'вольтижировка', 'воровка', 'ворсовщик', 'восполнение', 'восхождение', 'впайщик',
                 'враждебность',
                 'врубовка', 'всеобуч', 'вспаивание', 'встраивание', 'вторачивание', 'втянутость', 'вхождение',
                 'выброска',
                 'вывоз', 'выгравирование', 'выдра', 'выжлец', 'выкидыш', 'выкормка', 'вылечивание', 'вымирание',
                 'выныривание',
                 'выпихивание', 'выпотрашивание', 'вырабатывание', 'выручение', 'выскребание', 'выстилка',
                 'выталкивание',
                 'вытряхивание', 'выцветание', 'вышивальщик', 'вьюковожатый', 'гага', 'газолин', 'галета',
                 'гальванометр',
                 'гандбол', 'гармония', 'гауптвахта', 'гейзерит', 'гелиотроп', 'генерал-адмирал', 'генштаб', 'геофизик',
                 'германофил', 'герпетология', 'гигиенист', 'гидроизоляция', 'гидросистема', 'гильза',
                 'гипертрофирование',
                 'гирло', 'главреж', 'глазурь', 'глициния', 'глухарка', 'гнилостность', 'гоголёнок', 'головщица',
                 'голубушка',
                 'гонец', 'горбоносость', 'горлинка', 'город-спутник', 'господин', 'гофрирование', 'гравёр',
                 'грамматист',
                 'граф', 'грек', 'гридня', 'гром', 'груз', 'групповщина', 'губительница', 'гуммигут', 'гусляр', 'дадан',
                 'дань',
                 'дачевладелица', 'двоемужница', 'двуокись', 'дебаркация', 'девственность', 'дедвейт', 'дезорганизация',
                 'декалькирование', 'декоратор', 'дельфинарий', 'демонстрант', 'денудация', 'держава', 'дерновище',
                 'десятина',
                 'детрит', 'дефолиация', 'джига', 'диагностика', 'диван-кровать', 'дикарка', 'динамика', 'директор',
                 'дискуссия', 'дистрибуция', 'дневник', 'доброта', 'догадка', 'дождевик', 'доказательность', 'докраска',
                 'долганка', 'долихоцефалия', 'доминион', 'домохозяйство', 'донья', 'дополнение', 'дородность',
                 'доставка',
                 'дот', 'драбант', 'драцена', 'дрессирование', 'дрозофила', 'дуайен', 'дудочник', 'дурра', 'душегрейка',
                 'дьявольщина', 'евангеличка', 'единобрачие', 'едкость', 'епитрахиль', 'жакан', 'жатка', 'желтобрюх',
                 'женоненавистник', 'жертвоприношение', 'животновод', 'жизнеутверждение', 'житие', 'жук-бомбардир',
                 'забастовщица', 'забурник', 'завершение', 'завод-автомат', 'загадчица', 'заготовитель', 'загубник',
                 'задержка',
                 'задымлённость', 'заискивание', 'закачка', 'заколдованность', 'закоулок', 'закупорщик', 'заливное',
                 'заманчивость', 'заметность', 'замыкающий', 'заострённость', 'запасливость', 'заповедник', 'запрет',
                 'заработок', 'зарубка', 'засев', 'заснеженность', 'застилка', 'засуха', 'затемнение', 'затрачивание',
                 'заученность', 'зачаток', 'зашпаклёвывание', 'звездопад', 'звукометрия', 'здоровье', 'земледелка',
                 'земщина',
                 'зигзаг', 'злодеяние', 'знак', 'зодчий', 'зона', 'зраза', 'зулус', 'иван-чай', 'игристость', 'идиот',
                 'иждивение', 'избыток', 'извратитель', 'издательница', 'излучатель', 'измученность', 'изображение',
                 'изохронность', 'изуродование', 'икона', 'иллюстрация', 'имитирование', 'импортёр', 'инвентаризация',
                 'индетерминизм', 'индоссант', 'инициатор', 'инокиня', 'инструктирование', 'интеллигентность',
                 'интернациональность', 'интрузия', 'информация', 'ипподром', 'ирригатор', 'искровец', 'испарение',
                 'испольщик',
                 'исступлённость', 'истома', 'истёсывание', 'иудей', 'йот', 'каботаж', 'каданс', 'казимир', 'кайнозой',
                 'калибрование', 'калым', 'камбоджийка', 'камерунка', 'камыш', 'канистра', 'кантианство', 'капельница',
                 'капонир', 'каравай', 'каратистка', 'кардиолог', 'карнавал', 'картограмма', 'касательная', 'катаклизм',
                 'катедер-социалист', 'катюша', 'кашмирец', 'квартирантка', 'кеб', 'кенийка', 'кибитка', 'кильватер',
                 'кинобоевик', 'киноплёнка', 'кипарис', 'кислота', 'кишлак', 'кларнетист', 'клейстер', 'клеёнка',
                 'клинтух',
                 'клот', 'клякса', 'книголюб', 'коагуляция', 'ковродел', 'кожеед', 'кокаин', 'коктейль-холл', 'коллаж',
                 'колодезник', 'колорит', 'колчаковщина', 'командир', 'комедиантка', 'комковатость', 'компаративистика',
                 'композитор', 'комфорт', 'конвой', 'кондуит', 'конница', 'консигнант', 'констебль',
                 'континентальность',
                 'контргайка', 'контур', 'конфузливость', 'конъюнктив', 'копир', 'копытень', 'корейка', 'кормокухня',
                 'корона',
                 'корригирование', 'коршун', 'космовидение', 'косослой', 'котангенс', 'кочевничество', 'край',
                 'краситель',
                 'краткость', 'кремация', 'кресло-кровать', 'кризис', 'кристаллография', 'кровоток', 'кронциркуль',
                 'кружево',
                 'крыло', 'ксилография', 'кудесник', 'кукша', 'культурник', 'куначество', 'купля', 'курица', 'куртка',
                 'кусторез', 'кюрий', 'лавровишня', 'лайнер', 'ламаизм', 'ландтаг', 'ларингит', 'латиноамериканец',
                 'лебяжина',
                 'легитимистка', 'ледорез', 'лейкоцитоз', 'лендлорд', 'лепёшечник', 'лесозаготовитель',
                 'лесопромышленник',
                 'лесоэкспорт', 'лечение', 'либреттист', 'ликвидация', 'лимузин', 'линчевание', 'листоед', 'литограф',
                 'лицемер', 'логик', 'лозняк', 'лонгет', 'лосьон', 'луговод', 'лунатик', 'лущёвка', 'льнокомбайн',
                 'любимица',
                 'люнель', 'лягушонок', 'магдалина', 'магнитометр', 'мазик', 'макаронщик', 'макрорельеф', 'малахит',
                 'малоизученность', 'малоупотребительность', 'мамлюк', 'маневренность', 'мансийка', 'мараловодство',
                 'марихуана', 'марс', 'маскарон', 'массированность', 'материалоёмкость', 'махан', 'машиновед', 'мегрел',
                 'медленность', 'межа', 'мезоглея', 'мелкозернистость', 'мельник', 'меньшинство', 'мерцание',
                 'металловедение',
                 'метацентр', 'методичность', 'механичность', 'мещера', 'микроинсульт', 'микрофильмирование', 'милорд',
                 'миниатюра', 'минускул', 'мировосприятие', 'миссионерство', 'миттельшпиль', 'мнемоника',
                 'многозначность',
                 'многопрограммность', 'мобилизация', 'модернизм', 'мозоль', 'молниеотвод', 'молотобоец', 'монастырь',
                 'монография', 'монохорд', 'морализм', 'морзист', 'мортира', 'мостостроитель', 'мотоклуб', 'мохна',
                 'мощь',
                 'мужественность', 'мулат', 'мурза', 'мутагенез', 'мушмула', 'мычание', 'мялка', 'набат', 'набухание',
                 'навинчивание', 'нагар', 'нагребание', 'надгробие', 'надкус', 'надруб', 'наездничество',
                 'наигранность',
                 'накачка', 'накомарник', 'налаженность', 'налёжка', 'намолачивание', 'наниматель', 'напитывание',
                 'напруживание', 'нарзан', 'нарост', 'насад', 'насильник', 'наставник', 'настриг', 'натасчик',
                 'натурфилософия',
                 'нафабривание', 'нацизм', 'начитанность', 'наём', 'небо', 'невзрачность', 'невозмутимость', 'неврон',
                 'невязка', 'недальнозоркость', 'недовес', 'недозволительность', 'недомер', 'недопотребление',
                 'недостижимость',
                 'незабудка', 'незащищённость', 'неизмеримость', 'неиспытанность', 'нейрохирург', 'некролог',
                 'неметалл',
                 'ненападение', 'необстрелянность', 'неодобрение', 'неорганичность', 'неотчётливость', 'неповиновение',
                 'непокорённость', 'непостоянность', 'непредугаданность', 'неприличие', 'непроводимость',
                 'неработоспособность',
                 'неразменность', 'нервничание', 'несварение', 'неслаженность', 'несолидность', 'несудоходность',
                 'нетронутость', 'неудовлетворённость', 'неусовершенствованность', 'нефтевоз', 'нечуткость', 'нижайшее',
                 'низость', 'нистагм', 'ниша', 'новолуние', 'ножевище', 'номинатив', 'норманн', 'нотопечатание',
                 'нуклеин',
                 'нюанс', 'обварщик', 'обвязка', 'обдерновка', 'обезземеление', 'оберегатель', 'обесчещивание', 'обжог',
                 'обкашивание', 'облагораживание', 'обливанец', 'облуживание', 'обмеблировывание', 'обмолоток',
                 'обнаружение',
                 'обогащаемость', 'оболочка', 'обрабатывание', 'обременение', 'обрушение', 'обсечение',
                 'обструкционист',
                 'обтряхивание', 'обходительность', 'общепринятость', 'объявитель', 'оверштаг', 'овчарня', 'оговорка',
                 'огрунтовка', 'одиозность', 'однокурсница', 'одноцветность', 'одухотворённость', 'озерко', 'ойротка',
                 'окисление', 'окольцовывание', 'округлость', 'окурок', 'олигархия', 'омлет', 'онемечение', 'опалубщик',
                 'оперирование', 'оплодотворение', 'оползень', 'оправа', 'опрощенец', 'опустошитель', 'организация',
                 'ордынец',
                 'орнаментация', 'орудие', 'осведомлённость', 'осень', 'оскрёбок', 'осмий', 'осоед', 'остекление',
                 'остригание',
                 'осуществление', 'отбеливание', 'отброс', 'отвесность', 'отворачивание', 'отграничение', 'отделывание',
                 'отжилок', 'откашивание', 'откочёвка', 'отливка', 'отмежевание', 'отмывка', 'отопитель',
                 'отпирательство',
                 'отравительница', 'отроение', 'отсекание', 'отстрагивание', 'отсыхание', 'оттёска', 'отчаянность',
                 'отшивка',
                 'отёсывание', 'охапка', 'оценщик', 'очернение', 'ошельмование', 'пагода', 'пайщица',
                 'палеоантропология',
                 'палиндром', 'пальник', 'панегирик', 'пантач', 'паперть', 'парадизка', 'параметр', 'парафирование',
                 'паркетчик', 'паром', 'партбилет', 'парча', 'пассеровка', 'патанка', 'патопсихология', 'патронимия',
                 'пахит',
                 'паяльщик', 'педерастия', 'пейсаховка', 'пелькомпас', 'пеньюар', 'первопечатник', 'перебаллотировка',
                 'переваливание', 'переворот', 'перегорание', 'передвижка', 'передумывание', 'перезимовка', 'перекачка',
                 'переколка', 'перекрикивание', 'перелетание', 'перемазывание', 'перемол', 'перенаём', 'переопыление',
                 'перепечатание', 'переплёскивание', 'перепрягание', 'перерожденец', 'пересинивание', 'пересортировка',
                 'переступь', 'перетир', 'переупаковка', 'перецепка', 'перешихтовка', 'периодика', 'перманент',
                 'перфорирование', 'песочник', 'петрография', 'пещерник', 'пика', 'пилот', 'пиоррея', 'пиротехника',
                 'питомник',
                 'плавление', 'плаксивость', 'плантатор', 'платинка', 'плащаница', 'пленение', 'плешина', 'плодоножка',
                 'плоскостопие', 'плутократия', 'плясание', 'побеление', 'поварёнок', 'повидло', 'повтор', 'погонщик',
                 'подарок', 'подбора', 'подвиг', 'подворотня', 'подголовник', 'поддавливание', 'поддувало',
                 'подзеркальник',
                 'подквашивание', 'подкомиссия', 'подкрылье', 'подлипание', 'подмерзание', 'поднаряд', 'подозревание',
                 'подпарывание', 'подпоручик', 'подрайон', 'подруливание', 'подсвинок', 'подслащивание', 'подставка',
                 'подстрижка', 'подтанцовывание', 'подтягивание', 'подхрапывание', 'подштурман', 'поедание',
                 'поздравитель',
                 'поилка', 'покойник', 'покупка', 'полено', 'полиневрит', 'политкаторжанка', 'полнолуние', 'полольщик',
                 'полубак', 'полуколония', 'полупроводник', 'полушаг', 'полюс', 'померанец', 'помольщик', 'пониклость',
                 'поощритель', 'попона', 'порезник', 'портик', 'порука', 'посвист', 'последователь', 'постамент',
                 'постройка',
                 'поташ', 'потолок', 'потяжка', 'почвенник', 'пошатывание', 'прабабушка', 'правобережье', 'прагматист',
                 'праправнучка', 'превознесение', 'предвкушение', 'преднамеренность', 'предприниматель',
                 'предубеждение',
                 'прежнее', 'прекращение', 'пренебрежительность', 'препятствие', 'пресноводность', 'преступница',
                 'прецизионность', 'приборостроитель', 'приверженность', 'приводка', 'пригарь', 'приготавливание',
                 'прижатие',
                 'приискание', 'прикорм', 'прилипаемость', 'примерка', 'примётывание', 'принципия', 'припасание',
                 'приплясывание', 'припудривание', 'приросток', 'присеменник', 'приспешник', 'пристрелка',
                 'притаптывание',
                 'притоп', 'приурочение', 'прицветник', 'причёсывание', 'приятель', 'проблема', 'проващивание',
                 'проводимость',
                 'прогар', 'прогресс', 'продление', 'продумывание', 'прожигание', 'прозелитка', 'проистекание',
                 'проквашивание',
                 'проколка', 'пролащивание', 'промазка', 'промоина', 'пронизка', 'пропахивание', 'проплыв',
                 'прореживание',
                 'прорыв', 'проседь', 'прослушание', 'простодушие', 'просфира', 'протезист', 'противопоставление',
                 'протопресвитер', 'проух', 'проходка', 'прочувствованное', 'проявление', 'прядево', 'псалмист',
                 'псевдоморфоза', 'психология', 'птиалин', 'публицистика', 'пузыристость', 'пунктирование', 'пускание',
                 'пустырь', 'пух', 'пшённик', 'пьянство', 'пятиугольник', 'раввин', 'радиоактивность',
                 'радиопеленгатор',
                 'радиотехника', 'разбалтывание', 'разброс', 'разведчица', 'развлечение', 'развёртывание',
                 'разгружатель',
                 'раздельность', 'разжиг', 'размагниченность', 'разминка', 'размётывание', 'разнорабочий',
                 'разоблачительница',
                 'разрез', 'разрытие', 'разъярение', 'ракия', 'ранец', 'расквартирование', 'расколоучитель',
                 'раскулачивание',
                 'распашонка', 'расплывчивость', 'распрыскивание', 'рассверловка', 'рассовывание', 'расстрижение',
                 'растворение', 'растопка', 'растрёпанность', 'расхождение', 'расчёска', 'расщепление', 'рахит',
                 'реакционерка',
                 'ревизионист', 'регенерирование', 'редемаркация', 'резерв', 'резчица', 'реквизит', 'рекрутство',
                 'ремень',
                 'рентгенограмма', 'репица', 'республиканизм', 'референдум', 'рецептура', 'ржавление', 'рикша',
                 'ритмовка',
                 'ровность', 'родонит', 'розыгрыш', 'романистика', 'россыпь', 'роялистка', 'ругательница',
                 'рукоплескание',
                 'русист', 'рыбачение', 'рым', 'рябец', 'сабан', 'садистка', 'сайдак', 'саловар', 'самаритянка',
                 'самовосхваление', 'самоизнурение', 'самонакладчик', 'самоосуждение', 'самопресс', 'самосожжение',
                 'самоуслаждение', 'сангвинизм', 'сантехника', 'саранча', 'сарыча', 'сахароварение', 'сборность',
                 'сван',
                 'свеклоподъёмник', 'сверхтекучесть', 'светолечебница', 'светофильтр', 'свиноматка', 'свищ',
                 'своеобразность',
                 'святочник', 'сгораемость', 'сдержанность', 'сегидилья', 'сейсмограмма', 'селезень', 'сельдь',
                 'семеномер', 'семя', 'сенозаготовка', 'сенсуалистка', 'септима', 'сердцебиение', 'сермяга',
                 'серьёзное',
                 'сживание', 'сигарета', 'сиенит', 'силос', 'симония', 'сингармонизм', 'синклит', 'синтоизм', 'сиповка',
                 'ситцепечатание', 'скалолаз', 'скарбница', 'скверна', 'скипидар', 'складчина', 'склон', 'сколопендра',
                 'скоропись', 'скотоложство', 'скрижапель', 'скульптор', 'славистика', 'слаженность', 'слезоотделение',
                 'сливщица', 'словесность', 'сложность', 'слушатель', 'смачиваемость', 'сметчик', 'смолильщица',
                 'смотритель',
                 'смятие', 'снегоход', 'снотворное', 'соболевание', 'совершенствование', 'совращение', 'содокладчик',
                 'созревание', 'сокоотжималка', 'солеломня', 'солка', 'соломит', 'сомнамбулизм', 'сообщничество',
                 'соплодие',
                 'сорбит', 'сортосмена', 'сосок', 'сотерн', 'сохатина', 'сочленение', 'спасение', 'сперматозоид',
                 'спил',
                 'списание', 'сподвижница', 'способствование', 'спёртость', 'срисовывание', 'ссыпщик', 'стаксель',
                 'становище',
                 'старообрядка', 'статор', 'стеблестой', 'стеклоочиститель', 'стенография', 'стереотипёр', 'стилка',
                 'стланик',
                 'стольник', 'страда', 'стратосфера', 'стресс-подножка', 'стройбат', 'струна', 'стыкование',
                 'субстанциальность', 'судоверфь', 'суетливость', 'сумочник', 'супоросость', 'суровость', 'суфизм',
                 'сушильня',
                 'схизматичка', 'счастливая', 'сыворотка', 'сытость', 'табасаран', 'тавро', 'тактильность', 'тамплиер',
                 'танцор', 'тарификация', 'тахта', 'творчество', 'текстолог', 'телеозавр', 'теллурий', 'темя',
                 'теоретизирование', 'теплопрозрачность', 'терзание', 'термоскоп', 'террасирование', 'тестомесилка',
                 'техникум',
                 'тимуровец', 'тиранизм', 'тифозная', 'тодес', 'толкание', 'томительность', 'топенант', 'торба',
                 'тормозильщик',
                 'тоскливость', 'травматолог', 'трактовка', 'транскрибирование', 'трансформировка', 'траулер',
                 'трезвенник',
                 'тренькание', 'трешкот', 'трилистник', 'триумвир', 'тройник', 'трос', 'трубостав', 'трусость',
                 'трёпка',
                 'туер', 'тундрянка', 'турбулентность', 'турухтан', 'тушилка', 'тюбетей', 'тябло', 'тёшка', 'убыль',
                 'увертюра',
                 'увязка', 'углерод', 'угольщик', 'удачность', 'удобство', 'уезжающая', 'узурпаторство', 'уклончивость',
                 'укрощение', 'улика', 'умаление', 'умиротворённость', 'унанимист', 'уничтожение', 'упоминание',
                 'ура-патриот',
                 'урод', 'усвоение', 'усовершенствование', 'устроительница', 'утечка', 'утончённость', 'утюжение',
                 'участливость', 'учёт', 'фабрика', 'фазис', 'фалерист', 'фальшивомонетчик', 'фантаст', 'фарс',
                 'фаталистка',
                 'федералист', 'фельетонист', 'феодализм', 'фехраль', 'фигурист', 'физрук', 'филигранность',
                 'филогенезис',
                 'филяриоз', 'финно-угровед', 'фихтеанец', 'флегматик', 'флорентиец', 'фляжка', 'фонастения',
                 'фордевинд',
                 'форпост', 'фосфоробактерин', 'фотолюминесценция', 'фототека', 'фразировка', 'фрахтовщик',
                 'фрондирование',
                 'фукус', 'фурфурол', 'фён', 'хамитка', 'хвастание', 'химеричность', 'хитрость', 'хлебопечение',
                 'хлопкоочистка', 'хлыстовщина', 'хоккеист', 'холст', 'хорошенькое', 'хризолит', 'хронография',
                 'худощавая',
                 'царевич', 'цедильщик', 'целование', 'ценитель', 'цепенение', 'цивилизованность', 'цинкование',
                 'цитохимия',
                 'чад', 'чарльстон', 'чауш', 'человеколюбец', 'червление', 'чернавка', 'черноногая', 'чертёжница',
                 'четвертак',
                 'чибис', 'числитель', 'членение', 'чтец', 'чудотворец', 'чётность', 'шалфей', 'шанц', 'шарошка',
                 'швабка',
                 'шейпинг', 'шепелявение', 'шерстобой', 'шефство', 'ширма', 'шкаторина', 'шлам', 'шлюп', 'шовинистка',
                 'шпатель', 'шприцевание', 'штабелевание', 'штемпелевание', 'штрафование', 'штурман', 'шурфование',
                 'шёлкопрядильщица', 'щемление', 'щурка', 'эволюционизм', 'эдельвейс', 'экзаменующийся', 'эклиметр',
                 'экскавация', 'эксплуататор', 'экстравагантность', 'элегичность', 'электродойка', 'электрометр',
                 'электроподстанция', 'электросинтез', 'элерон', 'эмалировщик', 'эмпириокритицизм', 'эндотоксин',
                 'энтузиазм',
                 'эпидемиология', 'эпитет', 'эркер', 'эскизность', 'эстокада', 'этикетчица', 'этуаль', 'эхинококк',
                 'юкка',
                 'юркость', 'ягельник', 'яйцеклетка', 'японист', 'ясновидящая', 'яшма']


@api_view(['POST'])
@permission_classes((permissions.IsAdminUser,))
def generate_tasks(request):
    query_params = getattr(request, 'query_params')
    amount = int(query_params.get('amount', 0))

    tags = TaskTag.objects.all()
    subjects = TaskSubject.objects.all()
    users = User.objects.all()

    tags_ids = [tag.id for tag in tags]
    subjects_ids = [subject.id for subject in subjects]
    users_ids = [user.id for user in users]

    tags_amount = len(tags_ids)

    for _ in range(amount):
        current_task_tags_amount = random.randint(1, tags_amount)

        current_task_subject = TaskSubject.objects.get(id=random.choice(subjects_ids))
        current_task_tags = [TaskTag.objects.get(id=i) for i in random.choices(tags_ids, k=current_task_tags_amount)]
        current_task_user = User.objects.get(id=random.choice(users_ids))

        current_task_title = current_task_subject.name + ' ' + random.choice(russian_words)
        current_task_description = ' '.join(random.choices(russian_words, k=50))

        current_task = Task(author=current_task_user,
                            title=current_task_title, price=random.randint(1, 10000),
                            difficulty_stage_of_study=random.choice(['N', 'S', 'C', 'B', 'M', 'PG']),
                            difficulty_course_of_study=random.randint(0, 15),
                            subject=current_task_subject,
                            description=current_task_description,
                            status='A',
                            stop_accepting_applications_at=datetime.datetime.now() + datetime.timedelta(
                                days=random.randint(3, 40)))
        current_task.save()
        for tag in current_task_tags:
            current_task.tags.add(tag)
        current_task.save()
    return Response(status=status.HTTP_201_CREATED)


@api_view(['POST'])
@permission_classes((permissions.IsAdminUser,))
def default_generator(request):
    # TODO
    users = [user for user in User.objects.all()]

    if len(users) <= 3:
        return Response({'detail': 'В бд меньше трех юзеров'}, status=status.HTTP_204_NO_CONTENT)

    tasks = {1: {'author': users[0],
                 'title': 'Объяснить правила построения условных предложений в английском',
                 'price': 150,
                 'stage_of_study': 'S',
                 'course_of_study': 9,
                 'subject': 'Английский язык',
                 'description': 'Пропустил несколько уроков по болезни и теперь ничего не понимаю, помогите пожалуйста...',
                 'status': 'A',
                 'stop_accepting_applications_at': datetime.datetime.now() + datetime.timedelta(
                     days=random.randint(3, 40))
                 },
             2: {'author': users[1],
                 'title': 'Помочь решить задачу на динамическое программирование за O(nlog2(n))',
                 'price': 300,
                 'stage_of_study': 'B',
                 'course_of_study': 2,
                 'subject': "Информатика",
                 'description': "Я уже решил эту задачу за O(n^2) по времени и O(n) по памяти, но думаю есть решения лучше...",
                 'status': 'A',
                 'stop_accepting_applications_at': datetime.datetime.now() + datetime.timedelta(
                     days=random.randint(3, 40))

                 },
             3: {'author': users[2],
                 'title': 'Помочь с докладом по географии на тему ВГО',
                 'price': 200,
                 'stage_of_study': 'C',
                 'course_of_study': 3,
                 'subject': 'География',
                 'description': 'У меня не получается найти информацию, по мореплавателю по имени Маркус Рилен...',
                 'status': 'A',
                 'stop_accepting_applications_at': datetime.datetime.now() + datetime.timedelta(
                     days=random.randint(3, 40))

                 },
             4: {'author': users[0],
                 'title': 'Помочь починить гит проекта',
                 'price': 500,
                 'stage_of_study': 'S',
                 'course_of_study': 11,
                 'subject': 'Информатика',
                 'description': 'Разрабатывая проект перепутал несколько команд и теперь ничего не работает, а внесенные изменения терять не хочется',
                 'status': 'A',
                 'stop_accepting_applications_at': datetime.datetime.now() + datetime.timedelta(
                     days=random.randint(3, 40))

                 },
             5: {'author': users[2],
                 'title': 'Помочь подготовить доклад на тему "Поэты «Серебряного века»"',
                 'price': 200,
                 'stage_of_study': 'S',
                 'course_of_study': 11,
                 'subject': 'Литература',
                 'description': 'Хочу сделать очень интересный доклад для одноклассников, требуется помощь с поиском достоверных источников',
                 'status': 'A',
                 'stop_accepting_applications_at': datetime.datetime.now() + datetime.timedelta(
                     days=random.randint(3, 40))

                 },
             6: {'author': ...,
                 'title': ...,
                 'price': random.randint(1, 10000),
                 'stage_of_study': random.choice(['N', 'S', 'C', 'B', 'M', 'PG']),
                 'course_of_study': random.randint(0, 15),
                 'subject': ...,
                 'description': ...,
                 'status': 'A',
                 'stop_accepting_applications_at': datetime.datetime.now() + datetime.timedelta(
                     days=random.randint(3, 40))

                 },
             7: {'author': ...,
                 'title': ...,
                 'price': random.randint(1, 10000),
                 'stage_of_study': random.choice(['N', 'S', 'C', 'B', 'M', 'PG']),
                 'course_of_study': random.randint(0, 15),
                 'subject': ...,
                 'description': ...,
                 'status': 'A',
                 'stop_accepting_applications_at': datetime.datetime.now() + datetime.timedelta(
                     days=random.randint(3, 40))

                 }
             }
